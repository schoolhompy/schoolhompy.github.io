---
layout: post
title: Spring Cloud Zuul
date: '2020-06-27T22:29:00.000-07:00'
author: schoolhompy
categories:
- BACKEND
tags:
- Springboot Cloud
modified_time: '2020-06-27T22:29:09.936-07:00'
blogger_id: tag:blogger.com,1999:blog-4954243635432022205.post-2025934657699475817
blogger_orig_url: https://yunhos.blogspot.com/2020/06/spring-cloud-zuul.html
---

스프링부트 클라우드 + 넥플릭스 덕분에 마이크로서비스 구축이 이렇게나 재밌을수가..<div><br /></div><div>Spring Cloud Zuul</div><div>일단 API GATEWAY로서 라우팅, 엔드포인트제공, 필터링, 로깅-모니터링은 기본이고 인증, 로드밸런싱, 장애대응 까지 소프트웨어적으로 가능하게 만들어 두었다니, 사랑해요 넥플릭스 개발자들.</div><div><br /></div><div>일단 가장 쓰기편한 조합은 Eureka 와 연동하는것. Zuul 에는 Hystrix(Circuit Breaker), Ribbon(Load Balancer-round robin type) 이 탑재되어 있다.</div><div><br /></div><div>1.Spring Cloud Zuul 설정</div><div>부트초기화 사이트에서 zuul 하고 eureka client 추가해서 프로젝트 생성.</div><div><br /></div><div>- application.yml 생성</div><div><pre style="background-color: white; color: #080808; font-family: 'JetBrains Mono'; font-size: 9.8pt;"><span style="color: #0033b3;">server</span>:<br />  <span style="color: #0033b3;">port</span>: 8100 &lt;- 암거나<br /><br /><span style="color: #0033b3;">spring</span>:<br />  <span style="color: #0033b3;">application</span>:<br />    <span style="color: #0033b3;">name</span>: ${NAME:zuul} &lt;- 유레카 서버에서 확인할 이름<br /><span style="color: #0033b3;">zuul</span>:<br />  <span style="color: #0033b3;">routes</span>:<br />    <span style="color: #0033b3;">service-1</span>:<br />      <span style="color: #0033b3;">path</span>: /ping<br />      <span style="color: #0033b3;">serviceId</span>: customerservice &lt;- 이거는 유레카 클라이언트의 이름과 동일해야 유레카가 해당이름의 서버를 찾아 준다.<br />    <span style="color: #0033b3;">service-2</span>:<br />      <span style="color: #0033b3;">path</span>: /fuckapple<br />      <span style="color: #0033b3;">serviceId</span>: customerservice2 &lt;- 뻑은 다른서버<br /><br /><span style="color: #0033b3;">eureka</span>:<br />  <span style="color: #0033b3;">client</span>:<br />    <span style="color: #0033b3;">register-with-eureka</span>: true<br />    <span style="color: #0033b3;">fetch-registry</span>: true<br />    <span style="color: #0033b3;">service-url</span>:<br />      <span style="color: #0033b3;">defaultZone</span>: ${EUREKA_URL:http://127.0.0.1:8761/eureka/}, http://192.168.0.103:8671/eureka/</pre></div><div>추가로 hystrix, ribon 설정을 서비스 별로 지정할수 있다.</div><div>hystrix :&nbsp;<a href="https://blog.naver.com/sharplee7/221503517533">https://blog.naver.com/sharplee7/221503517533</a>&nbsp;&lt;- 상세히 잘되어있음</div><div>ribon :&nbsp;<a href="https://blog.naver.com/sharplee7/221505552280">https://blog.naver.com/sharplee7/221505552280</a>&nbsp;&lt;- 상세히 잘되어있음</div><div><br /></div><div>참고 떙큐</div><div><a href="https://blog.naver.com/PostView.nhn?blogId=sharplee7&amp;logNo=221508669345&amp;parentCategoryNo=&amp;categoryNo=&amp;viewDate=&amp;isShowPopularPosts=false&amp;from=postView">https://blog.naver.com/PostView.nhn?blogId=sharplee7&amp;logNo=221508669345&amp;parentCategoryNo=&amp;categoryNo=&amp;viewDate=&amp;isShowPopularPosts=false&amp;from=postView</a></div>