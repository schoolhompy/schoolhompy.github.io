---
layout: post
title: 자바스크립트 패턴스
date: '2015-11-05T20:01:00.001-08:00'
author: schoolhompy
tags: 
modified_time: '2017-06-25T02:22:53.719-07:00'
blogger_id: tag:blogger.com,1999:blog-4954243635432022205.post-1300645820782349195
blogger_orig_url: https://yunhos.blogspot.com/2015/11/blog-post_25.html
---

<ul><br/>	<li>전역변수의 최소화. 필수</li><br/>	<li> var a=b=0; 이면 b 는 전역변수가 된다. <strong><em>&lt;- 안티패턴</em></strong></li><br/>	<li>암묵적 타입캐스팅 피하기 , 비교는 ===</li><br/>	<li>eval() 피하기</li><br/>	<li><strong>parseInt 의 두번째 매개변수(진수선택)은 반드시 넣어야 한다. 왜냐면 0으로 시작되는 문자열을 8진수로 오해해서 가져올수 있기때문에. parseInt("06",10); 와 parseInt("06")은 다른거다.</strong></li><br/>	<li><strong>javascript 에서는 중괄호는 앞의 명령문과 동일한 행에 두어야 한다</strong>. 그렇지 않으면 javascript 엔진에서 해당줄에 자동으로 세미콜론을 삽입하기 때문이다.(한줄 아래에 중괄호 두는 것은 자바스크립트에서는 금지)</li><br/>	<li>new Object 로 객체 생성 <strong><em>&lt;- 안티패턴</em></strong></li><br/>	<li>new Array로 배열생성 <strong><em>&lt;- 안티패턴</em></strong> (권장 : 대괄호로 생성)</li><br/>	<li>배열인지 판별은 Array.isArray(배열) 로 하는것을 권장</li><br/>	<li><strong>설정객체패턴( 인자를 객체로 전달하는 방식)으로 하면 나중에 유지보수가 쉽다. </strong></li><br/>	<li>커링에 대해서도 이해하자.</li><br/>	<li>클로져로 비공개 멤버 구현가능<br/>function A(){ var privateValue ='pv'; this.getName=function(){return privateValue;}</li><br/>	<li>체이닝 패턴은 this 를 리턴하면됨.</li><br/>	<li>메쏘드 패턴도 이해하자.</li><br/>	<li>상속방법<br/>inherit(Child,Parent){ C.prototype = new P();} ...overriding?</li><br/>	<li><em><strong>디자인패턴</strong></em></li><br/></ul><br/><ol><br/>	<li><b><i>싱글톤</i></b><br/><div></div><br/>//싱글톤객체 즉시실행함수형태<br/><br/>var Stone = (function(){<br/><br/>var instance;<br/><br/>function init() {<br/><br/>function privateMethod(){<br/><br/>console.log( "private  메쏘드" );<br/><br/>}<br/><br/>var privateVariable = "Private 멤버변수";<br/><br/>return {<br/><br/>publicMethod: function () {<br/><br/>console.log( "public 메쏘드" );<br/><br/>},<br/><br/>publicProperty: public 멤버변수"<br/><br/>};<br/><br/>}; //init<br/><br/>&nbsp;<br/><br/>return {<br/><br/>// getInstance() 하면 인스턴스가 없다면 생성하고 있다면 인스턴스를 리턴<br/><br/>// 결국  instance 는 init() 함수 객체를 바라보게 된다.<br/><br/>getInstance: function () {<br/><br/>if ( !instance ) {<br/><br/>instance = init();<br/><br/>}<br/><br/>return instance;<br/><br/>}<br/><br/>};<br/><br/>})();<br/><br/>var s1 = Stone.getInstance();<br/><br/>var s2 = Stone.getInstance();<br/><br/>console.log( s1 === s2 ); // true<br/><br/>//s1.changepublic();<br/><br/>s1.publicProperty="hey";<br/><br/>console.log( s2.publicProperty ); // true</li><br/>	<li><strong>factory pattern</strong><br/>function Pizza_cheeze() {console.log('cheeze');<br/><br/>}<br/><br/>function Pizza_pineapple() {<br/><br/>console.log('pineapple');<br/><br/>}<br/><br/>function PizzaFactory(whichStyle) {<br/><br/>var pizza = this.createPizza(whichStyle);<br/><br/>&nbsp;<br/><br/>this.bake(pizza);<br/><br/>this.boxing(pizza);<br/><br/>&nbsp;<br/><br/>return pizza;<br/><br/>}<br/><br/>PizzaFactory.prototype.pizzaClass = Pizza_cheeze;<br/><br/>PizzaFactory.prototype.bake = function(pizza){<br/><br/>console.log('bake');<br/><br/>};<br/><br/>PizzaFactory.prototype.boxing = function(pizza){<br/><br/>console.log('boxing');<br/><br/>&nbsp;<br/><br/>};<br/><br/>PizzaFactory.prototype.createPizza = function(whichStyle) {<br/><br/>switch(whichStyle) {<br/><br/>case 'cheeze':<br/><br/>this.pizzaClass = Pizza_cheeze;<br/><br/>break;<br/><br/>case 'pineapple':<br/><br/>this.pizzaClass = Pizza_pineapple;<br/><br/>break;<br/><br/>&nbsp;<br/><br/>};<br/><br/>return new this.pizzaClass;<br/><br/>};<br/><br/>var pizzacheeze = new PizzaFactory('cheeze');<br/><br/>var pizzapineapple = new PizzaFactory('pineapple');<br/><br/>&nbsp;</li><br/>	<li><em><strong>Decorator Pattern</strong></em><br/>//기본객체<br/><ul>function Car() {</ul><br/><ul>    console.log('car frame');</ul><br/><ul>    this.price = 1000;</ul><br/><ul><br/><ul>}</ul><br/></ul><br/><ul>//가격정보얻기</ul><br/><ul>Car.prototype.getPrice = function() {</ul><br/><ul>    return this.price;</ul><br/><ul>};</ul><br/>//데코레이터 배열<br/><ul><br/><ul>Car.CarDecorators = {};</ul><br/></ul><br/><ul>//파워윈도우 옵션질</ul><br/><ul>Car.CarDecorators.powerWindow = {</ul><br/><ul>    getPrice : function() {</ul><br/><ul>        var price = this._super.getPrice();</ul><br/><ul>       price += price *5 /100;</ul><br/><ul>        return price;</ul><br/><ul>    }</ul><br/><ul>};</ul><br/>//<br/><ul>Car.prototype.decorate = function (decorator) {</ul><br/><ul>    var F = function () {},</ul><br/><ul>    overrides = this.constructor.CarDecorators[decorator],</ul><br/><ul>    i,</ul><br/><ul>    newobj;</ul><br/><ul>    // Create prototype chain</ul><br/><ul>    F.prototype = this;</ul><br/><ul>    newobj = new F();</ul><br/><ul>    newobj._super = F.prototype;</ul><br/><ul>    // Mixin properties/methods of our decorator</ul><br/><ul>    // Overriding the ones from our prototype</ul><br/><ul>    for (i in overrides) {</ul><br/><ul>        if (overrides.hasOwnProperty(i)) {</ul><br/><ul>            newobj[i] = overrides[i];</ul><br/><ul>        }</ul><br/><ul>    }</ul><br/><ul>    return newobj;</ul><br/><ul>}</ul><br/><ul>var car2 = new Car(50);</ul><br/><ul>car2 = car2.decorate('powerWindow');</ul><br/><ul>console.log(car2.getPrice()); // outputs $CDN52.50</ul><br/></li><br/></ol>