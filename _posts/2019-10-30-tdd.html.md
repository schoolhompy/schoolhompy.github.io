---
layout: post
title: 시퀀스맵으로 유저스토리를 만들어 TDD 까지 연계해보자
date: '2019-10-30T09:09:00.001-07:00'
author: schoolhompy
tags: 
modified_time: '2019-11-05T04:23:34.907-08:00'
thumbnail: https://1.bp.blogspot.com/-CaakXmc_ptI/Xb-G0OeyMEI/AAAAAAABB7g/YaY0ljEv4ugG8VCZltgXz5XwoPnFTjklACLcBGAsYHQ/s72-c/damplt.png
blogger_id: tag:blogger.com,1999:blog-4954243635432022205.post-5649712497215209257
blogger_orig_url: https://yunhos.blogspot.com/2019/10/tdd.html
---

<br />문서와 설명으로만 프로젝트를 진행하는 경우가 있다. 다들 머리속에는 같은 것을 그리고 있는데 아무도 그걸 구체화 시키지 않는다. 특히나 프로그래머는 뭐든지 로직으로만 생각하는 경우가 있는데, 그렇게 하다보면 로직-&gt;테스트코드작성 순으로 생각하게되는경향이 있다.<br />따라서 로직은 개발자한테 맡기되 고객/기획/디자이너/개발자가 공통된 하나의 스토리를 기반으로 같은 상상을 하게 해주는 좀더 구체화된것이 필요하다.<br />DDD 의 유비쿼터스언어 또한 언어라는 한계에서오는 제한으로 쉽게 진행되지 못하는경우가 있다.<br />이것을 애초부터 순서도로 만드는 거다. 인간의 언어에 제한되지 않는 순서도로 만들어서 상상했던 결과물이 최종결과물과 같은 순서도를 가진다면 누구나 수긍할수있는 프로젝트가 될것이다.<br /><br />순서도를 그리는데는 시간도 걸리고 솔직히 귀찮다.<br />정말 좋은 PlantUml 을 사용해서 조금이라도 덜 귀찮게 만들수 있다.<br />단, 쓸데없는 중복코드를 피하기 위해서 별도의 함수파일을 만들자.<br /><br />장점으로는 빨간색글씨로 TestCaseStory 를 미리 지정하여 , 테스터와 개발자가 동시에 테스트케이스를 작성할수 있다는거다.<br />10 단위로 되어있는 항목 중간에 1단위의 세부 항목을 넣을수 있다.<br /><br /><br /><br />methods.txt<br />@startuml<br /><br />title "Sequence UML"<br /><br />!global $current_action = ""<br />!global $auto_num_step = 10<br />!global $current_auto_num = 0<br /><br /><br /><br />!function a($to, $action)<br />&nbsp; &nbsp; &nbsp;a($current_action, $to, $action)<br />!endfunction<br /><br />!function a($from, $to, $action)<br />&nbsp; &nbsp; &nbsp;!if ($action == 0 || $action == 1)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;setautonum($action)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a($current_action, $from, $to)<br />&nbsp; &nbsp; &nbsp;!else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $from -&gt; $to : $printautonum() $action<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !$current_action = $to<br />&nbsp; &nbsp; &nbsp;!endif<br />&nbsp; &nbsp; <br />!endfunction<br /><br /><br />!function alt_start($condition)<br />&nbsp; &nbsp; &nbsp;alt $condition<br />!endfunction<br /><br />!function alt_else($condition)<br />&nbsp; &nbsp; &nbsp;else $condition<br />!endfunction<br /><br />!function alt_end()<br />&nbsp; &nbsp; end<br />!endfunction<br /><br /><br />!function s($from)<br />&nbsp; &nbsp; &nbsp;activate $from<br />!endfunction<br /><br />!function e($from)<br />&nbsp; &nbsp; &nbsp;deactivate $from<br />!endfunction<br /><br />!function setautonum($step)<br />&nbsp; &nbsp; &nbsp;!$auto_num_step = $step<br />!endfunction<br /><br /><br />!function resume()<br />&nbsp; &nbsp; &nbsp;!$auto_num_step = 10<br />&nbsp; &nbsp; &nbsp;!$current_auto_num = ( $current_auto_num / 10 ) * 10<br />!endfunction<br /><br /><br />!function resetautonum($num)<br />&nbsp; &nbsp; &nbsp;!$auto_num_step = 10<br />&nbsp; &nbsp; &nbsp;!$current_auto_num = $num - $auto_num_step<br />!endfunction<br /><br /><br />!function $printautonum()<br />&nbsp; &nbsp; &nbsp;!$outprint = $current_auto_num<br />&nbsp; &nbsp; &nbsp;!$current_auto_num = $current_auto_num + $auto_num_step<br />&nbsp; &nbsp; &nbsp;!if ($auto_num_step == 0)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !$outprint = ""<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !$auto_num_step = 10<br />&nbsp; &nbsp; &nbsp;!else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !$outprint =&nbsp; &nbsp;"&lt;font color=red&gt;&lt;b&gt;[TCS1_" + $test1($current_auto_num)&nbsp; &nbsp; +"]&lt;/b&gt;&lt;/font&gt;"<br />&nbsp; &nbsp; &nbsp;!endif<br />&nbsp; &nbsp; &nbsp;!return $outprint<br />!endfunction<br /><br />!function $test1($step)<br />&nbsp; &nbsp; &nbsp;!if (%strlen($step) == 2)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !return&nbsp; "0" + $step<br />&nbsp; &nbsp; &nbsp;!endif<br />&nbsp; &nbsp; &nbsp;!return&nbsp; $step<br />!endfunction<br /><br />!function n($from,$message)<br />&nbsp; &nbsp; &nbsp;note right of $from<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $message<br />&nbsp; &nbsp; &nbsp;end note<br />!endfunction<br /><br /><br /><br />@enduml<br /><br /><br />Source.txt<br /><br />@startuml<br />!include methods.txt<br /><br /><br />'--- 사용자/앱구분 ---<br />!$유저 = "유저"<br />!$유저 = "유저"<br /><br />'--- 참가화면 ---<br />!$메인화면 = "메인화면"<br />!$탭메뉴 = "탭메뉴"<br /><br />!$쿠폰메인화면 = "쿠폰메인화면"<br />!$카테고리목록 = "카테고리목록"<br />!$상점목록 = "상점목록"<br />!$더보기단순링크 = "더보기_단순링크"<br />!$쿠폰목록 = "쿠폰목록"<br /><br />!$앱 = "앱"<br /><br /><br />box "DPoint앱" #LightBlue<br />actor $유저<br />end box<br /><br />box "메인화면" #LightBlue<br />&nbsp; &nbsp; &nbsp;participant $메인화면<br />&nbsp; &nbsp; &nbsp;participant $탭메뉴<br />end box<br /><br />box "쿠폰화면" #LightBlue<br />&nbsp; &nbsp; &nbsp;participant $쿠폰메인화면<br />&nbsp; &nbsp; &nbsp;participant $카테고리목록<br />&nbsp; &nbsp; &nbsp;participant $상점목록<br />&nbsp; &nbsp; &nbsp;participant $더보기단순링크<br />&nbsp; &nbsp; &nbsp;participant $쿠폰목록<br />end box<br /><br /><br />== TCS1 : 앱기동후 쿠폰탭을 클릭하여 쿠폰메인화면으로 이동 하는 유저스토리 ==<br />a($유저, $메인화면, "앱기동")<br />a($탭메뉴, "쿠폰버튼클릭")<br />&nbsp; &nbsp; &nbsp;a($쿠폰메인화면, "화면오픈")<br />&nbsp; &nbsp; &nbsp;s($쿠폰메인화면)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a($카테고리목록, "카테고리목록표시",0)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; n($카테고리목록,"기본1개목록표시")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s($카테고리목록)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a($카테고리목록,"기본1개목록표시",1)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;resume()<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a($카테고리목록,"기본2개목록표시")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a($카테고리목록,"기본2개목록표시")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;resetautonum(100)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;box "test1" #LightBlue<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a($카테고리목록,"기본2개목록표시")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a($카테고리목록,"기본3개목록표시")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;end box<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;resume()<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;alt_start("해당카테고리의 쿠폰이 1개이상있을시")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a($카테고리목록 , "일반카테고리목록표시")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;alt_end()<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a($카테고리목록 , "카테고리\n자동선택")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; activate "카테고리목록"<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a($메인화면, $탭메뉴, "메뉴변경")<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;alt_start("해당카테고리가없거나\n처음 시동시")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a($카테고리목록, $카테고리목록, "전체항목선택")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;alt_else("이전에 선택한 탭이 있었고\n 해당항목이 존재할경우 ")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a($카테고리목록, "지정된항목선택")<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;alt_end()<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;deactivate "카테고리목록"<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e($카테고리목록)<br />&nbsp; &nbsp; &nbsp;e($쿠폰메인화면)<br /><br />@enduml<br /><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-CaakXmc_ptI/Xb-G0OeyMEI/AAAAAAABB7g/YaY0ljEv4ugG8VCZltgXz5XwoPnFTjklACLcBGAsYHQ/s1600/damplt.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="675" data-original-width="756" height="285" src="https://1.bp.blogspot.com/-CaakXmc_ptI/Xb-G0OeyMEI/AAAAAAABB7g/YaY0ljEv4ugG8VCZltgXz5XwoPnFTjklACLcBGAsYHQ/s320/damplt.png" width="320" /></a></div><br />