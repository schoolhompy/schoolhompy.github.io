---
layout: post
title: ELK 테스트 해본자료
date: '2018-03-31T06:25:00.001-07:00'
author: schoolhompy
tags:
- ELK
modified_time: '2018-03-31T18:57:00.854-07:00'
blogger_id: tag:blogger.com,1999:blog-4954243635432022205.post-4821926506985687375
blogger_orig_url: https://yunhos.blogspot.com/2018/03/elk_31.html
---

갠적으로 따라하기 쉬웠던 곳<br />-Logstash 설치 및 사용법<br />http://brownbears.tistory.com/67<br />-(3) ELKR (ElasticSearch + Logstash + Kibana + Redis) 로그 분석 시스템<br />http://blog.plura.io/?p=3363<br /><span style="white-space: pre;"> </span><br />-Logstash Configuration Examples<br /><br /><br />http://blog.naver.com/PostView.nhn?blogId=hanajava&amp;logNo=221012261799&amp;categoryNo=74&amp;parentCategoryNo=0&amp;viewDate=&amp;currentPage=1&amp;postListTopCurrentPage=1&amp;from=postView<br /><br />-grok 란<br />http://sjh836.tistory.com/69<br /><br />-ELK 심플하게 설명(주제-설명)<br />http://heowc.tistory.com/49<br /><br />-순천향 학교자료<br />http://cs.sch.ac.kr/lecture/BigData/2017/10-Logstash.pdf<br /><br />-ELK 요약<br />http://enterkey.tistory.com/379<br /><br />-Logstash,MYSQL<br />https://qbox.io/blog/mysql-logs-elasticsearch-logstash-kibana<br />여기보고했느데, 6.2 에서 에러가 나서<br />코덱 부분만 이렇게 바꾸면됨.<br />input {<br />&nbsp;file {<br />&nbsp; &nbsp;path =&gt; ["/var/log/mysqld.log"]<br /><br />&nbsp; &nbsp;codec =&gt; multiline {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pattern =&gt; "^%{NUMBER} *%{NUMBER}"<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;negate&nbsp; =&gt; true<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;what&nbsp; &nbsp; =&gt; "previous"<br />&nbsp; &nbsp; &nbsp; &nbsp;}<br />&nbsp;}<br />}<br /><br />---------------------<br /><br />Elasticsearch6.2 버젼에서는 mapping.json 부터가 안된다.왜.ㅆㅂㄴㄷㅇ<br /><br />&nbsp;Rejecting mapping update to [products] as the final mapping would have more than 1 type: [item, item_price]"}<br />요따구 에러가..여기서 than 1 type 인데 ES 는 TYPE 이 테이블이다..즉, 테이블이 두개란다. 칙쇼 같은것들 그냥 RDB 나 아예 다른용어쓰지..하긴..near realtime 이란 병신같은 말도 지어냈으니..ES 만든ㅆㅂㄴ은 식당에서 계산할떄 9999원 내며 거의 만원이니까 그냥 내도 되죠? 라고 하나?<br /><br />https://medium.com/@federicopanini/elasticsearch-6-0-removal-of-mapping-types-526a67ff772<br /><br />여기를 참고해보면, 일단 index 의 이름을 중괄호로 mappings {} 를 감싸주면된다.<br /><br />"mappings": {<br />&nbsp; &nbsp; "restaurant": {<br />&nbsp; &nbsp; &nbsp; "properties": {<br />}<br />를<br />"ldgourmet":{<br />&nbsp; "aliases": {},<br />&nbsp; "mappings": {<br />&nbsp; &nbsp; "restaurant": {<br />&nbsp; &nbsp; &nbsp; "properties": {<br /><br />}<br />식으로<br /><br />그리고 boolean 타입과 string -&gt; text 바뀐타입 체크<br /><br />curl -XPUT 'http://localhost:9200/ldgourmet' -H "Content-Type: application/json" -d @mapping.json<br />일케 실행하면..<br />-----<br /><pre style="white-space: pre-wrap; word-wrap: break-word;">yellow open   ldgourmet           viHSs2n9SzK1TEZ4K5RHsA   5   1          0            0      1.1kb          1.1kb</pre><pre style="white-space: pre-wrap; word-wrap: break-word;">---생성되었다..</pre><pre style="white-space: pre-wrap; word-wrap: break-word;"></pre><pre style="white-space: pre-wrap; word-wrap: break-word;"></pre><pre style="white-space: pre-wrap; word-wrap: break-word;"></pre><pre style="word-wrap: break-word;"><span style="white-space: pre-wrap;">https://qiita.com/morin_river/items/a78f7c85030984222e5e 이사람도 뭔가 써놓긴했는데 자세하진않았고.</span></pre><div><br /></div>