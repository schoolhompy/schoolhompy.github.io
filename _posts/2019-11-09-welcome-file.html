---
layout: post
title: Android 개발팁메모장
date: '2019-11-09T18:56:00.001-08:00'
author: schoolhompy
tags: 
modified_time: '2019-11-09T18:56:34.846-08:00'
blogger_id: tag:blogger.com,1999:blog-4954243635432022205.post-113983904713053597
blogger_orig_url: https://yunhos.blogspot.com/2019/10/welcome-file.html
---

<ul><li><p>라이프사이클</p><ol><li>외워서 그릴줄 알아야 한다.<br>Activity/Fragment 생명주기<br><a href="https://techbooster.org/wp-content/uploads/2014/12/lifecycle.png">https://techbooster.org/wp-content/uploads/2014/12/lifecycle.png</a><br><a href="https://github.com/xxv/android-lifecycle">https://github.com/xxv/android-lifecycle</a></li><li>onAttach(Fragment Only)<br>Fragment 에만 있는 싸이클로서 Fragment 가 Activity 에 붙을때 실행된다.</li><li>onActivityCreated(Fragment Only)</li><li>onCreate<br>액티비티를 최초에 실행할때 호출한다. 리소스 , layout 등의 초기화 작업을 한다. 또한 액티비티가 살아있는 동안에 유지해야 할 변수나 기능들을 초기화하고 보관해놓는다.</li><li>onCreateView(Fragment Only)<br>Fragment 에만 있는 싸이클로서 Fragment 의 경우는 여기서 layout 처리를 한다. Fragment 에서는 onCreate 에서 view 나 ui 관련 작업을 할수 없다.따라서 이곳에서 view 의 초기화, ui 관련 사항들을 지정할수있다. 뷰의 요소등에 대한 처리등 시간이 걸리는 로직은 onViewCreated 에서 하자.</li><li>onViewCreated(Fragment Only)<br>Fragment 에 view 가 초기화 되었다는 것을 알려준다. 인수로 view 를 보내주기 때문에 뷰의 각 요소에 대한 초기화 등을 할 수 있다.</li><li>onActivityCreated(Fragment Only)<br>Activity 가 화면에 보이는 상태이다 UI 조작이 가능한다. 단 Fragment 가 처음 실행될때만 실행된다.이때는 Activity 와 Fragment 가 연결된 상태이므로 두 객체간 상호작용이 가능하다.</li><li>onStart<br>UI가 화면에  보이게 하는단계이다.따라서 여기서 긴 작업을 하면 그만큼 UI 화면에 보이는것에 지장을 주게 되기 때문에 되도록 긴작업은 하지않는게 좋다.</li><li>onRestart<br>액티비티가 onStop 상태로 되어 배터리소모를 위해 해제했던 리소스나 리스너,리시버 등을 여기서 다시 등록, 점검하도록 해야한다. 준비가 되었다면 화면을 다시 복원시킬 onStart 가 실행된다.</li><li>onResume<br>액티비티가 onPause 상태에서 다시 화면이 활성화 되고, 사용자입력을 받을수 있는 상태가 되기 때문에 onPause 에서 해제해두었던 서비스나 기능을 다시 활성화 한다.</li><li>onPause<br>다른 액티비티나 앱에 의해 화면이 일부 가려진 상태이다. 액티비티가 사용자의 입력을 멈추고 임시적인 활동정지 상태로 들어간다. 이 상태는 화면갱신,사용자입력등을 받을수없는 상태이기 때문에 불필요하게 실행되고 있는 센서,카메라,GPS, 브로드캐스트 등을 정지하여 배터리가 소모되지 않도록하는게 좋다. 단, 데이터를 저장소에 저장하거나, 데이터베이스등을 다루는 작업을 하지않는다. 왜?  onPause 는 긴작업을 할만한 시간을 가지고 있지않다.onStop 에서 처리하는게 좋다.</li><li>onStop<br>Activity 가 완전히 백그라운드로 이동되어  화면에 UI가 완전히 보이지않을때 호출된다. 따라서 이 단계에서는 현재 액티비티에서 만들었던 모든 메모리를 해제하고, 사용자정보등을 디비나 서버에 저장하는게 좋다. 이 단계에서는 아직 UI 관련 정보와  Activity 관련 정보가 시스템 메모리에 남아있어서 onStart 에서 빠르게 화면을 다시 복구 할수 있도록 해준다.</li><li>onDetachView(Fragment Only)<br>액티비티가 종료될때 호출된다. 액티비티의 종료는 사용자에 의해서 일어날수도 있지만 시스템에 의해서 강제로 발생할수 있다 따라서 여기서 긴시간이 걸리는 작업을 하게되면 불안정하게 종료될 가능성이 있기 때문에, 그런것들은 onStop 에서  처리해두는게 좋다.<br>단 , 프로그램에서 finish() 를 하게되면 onResume-&gt;onDestory 형태로 바로 로딩되기때문에 이떄는 onDestroy 에서 처리해주어야줄 필요가 있다.</li><li>onDetach(Fragment Only)<br>액티비티에서 fragment 가 완전히 연결이 끊길때 실행된다. 프래그먼트에서 사용됬던 각종 메모리를 해제한다.</li><li>onDestroy<br>프래그먼트가 더이상 메모리에 있을 필요가없을때 실행되기 때문에 프래그먼트에서 사용했던 메모리를 해제한다.</li></ol></li><li><p>Fragment</p><ol><li>Fragment를oncreate 하거나 attach/reattach 하면 onActivityCreated가 불려지는데, 이곳에서 live 데이터의 Observer 를 등록하면 무수히 많은 observer 인스턴스가 생성된다. 따라서 메모리소비, 복수의 통지수신을 받는경우가 생길수도 있다.  Observer 를 등록할때, getViewLifecycleOwner() 또는 getViewLifecycleOwnerLiveData()를 이용하자.<pre class=" language-java"><code class="prism  language-java">viewModel<span class="token punctuation">.</span><span class="token function">getMainTab</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token function">getViewLifecycleOwner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />    <span class="token annotation punctuation">@Override</span><br />    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onChanged</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> Integer integer<span class="token punctuation">)</span> <span class="token punctuation">{</span><br />        <span class="token comment">//Do something</span><br />    <span class="token punctuation">}</span><br /><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /></code></pre></li></ol></li><li><p>RecycleView</p><ol><li>RecycleView <ol><li>리사이클뷰의 현재상태를 유지하고 싶을때는 onPause 에서 .<pre class=" language-java"><code class="prism  language-java"><span class="token keyword">protected</span> Parcelable rcListState<span class="token punctuation">;</span><br /><span class="token annotation punctuation">@Override</span><br /><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br />    rcListState<span class="token operator">=</span> rcList<span class="token punctuation">.</span><span class="token function">getLayoutManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /><span class="token punctuation">}</span><br /><span class="token annotation punctuation">@Override</span><br /><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br />	<span class="token keyword">if</span> <span class="token punctuation">(</span>rcListState<span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span><br />            rcList<span class="token punctuation">.</span><span class="token function">getLayoutManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onRestoreInstanceState</span><span class="token punctuation">(</span>rcListState<span class="token punctuation">)</span><span class="token punctuation">;</span><br />            rcListState<span class="token operator">=</span> null<span class="token punctuation">;</span><br />    <span class="token punctuation">}</span><br /><span class="token punctuation">}</span><br /></code></pre></li><li>리사이클뷰가 스크롤이 끝났을때 콜백액션<br>Cannot call this method while RecyclerView is computing a layout or scrolling<br>처럼에러가 나올때는 스크롤이 끝난 시점에 추가로드 등을 하기위해서 리사이클뷰의 post 에서 실행하면된다.<pre class=" language-java"><code class="prism  language-java"><span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onScrolled</span><span class="token punctuation">(</span>RecyclerView recyclerView<span class="token punctuation">,</span> <span class="token keyword">int</span> dx<span class="token punctuation">,</span> <span class="token keyword">int</span> dy<span class="token punctuation">)</span> <span class="token punctuation">{</span><br />  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onScrolled</span><span class="token punctuation">(</span>recyclerView<span class="token punctuation">,</span> dx<span class="token punctuation">,</span> dy<span class="token punctuation">)</span><span class="token punctuation">;</span><br /><br />  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />     recyclerView<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>callbacks<span class="token punctuation">)</span><span class="token punctuation">;</span> 또는<br />     recyclerView<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> 실행할메소드<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>또는<br />     recyclerView<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />                <span class="token annotation punctuation">@Override</span><br />                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />                   실행할메소드<span class="token punctuation">(</span><span class="token punctuation">)</span><br />                <span class="token punctuation">}</span><br />      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token punctuation">}</span><br /><span class="token punctuation">}</span><br /></code></pre></li></ol></li><li>ViewPager <ol><li>Android ViewPager.OnPageChangeListener 의 이벤트 전달 순서.<br><a href="https://indienote.tistory.com/74?category=644011">https://indienote.tistory.com/74?category=644011</a><br>참고하자.</li></ol></li><li>CustomView <ol><li>커스텀뷰에 에 xml 파라메터 만들기.<pre class=" language-xml"><code class="prism  language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br /> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span><br /> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>declare-styleable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>OwnCustomView<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br /> 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fillColor<span class="token punctuation">"</span></span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>color<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><br /> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>declare-styleable</span><span class="token punctuation">&gt;</span></span><br /> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span><br /> 레이아웃에서는<br /> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com.customview.OwnCustomView</span><br /> 	<span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span><br /> 	<span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span><br /> 	<span class="token attr-name"><span class="token namespace">app:</span>fillColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@android:color/holo_blue_dark<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><br /></code></pre>커스텀뷰에서는<pre class=" language-java"><code class="prism  language-java"><span class="token keyword">int</span> fillColor<span class="token punctuation">;</span><br /> TypedArray ta <span class="token operator">=</span><br /> context<span class="token punctuation">.</span><span class="token function">getTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">obtainStyledAttributes</span><span class="token punctuation">(</span>attributeSet<span class="token punctuation">,</span><br /> R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>OwnCustomView<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /><br /> <span class="token keyword">try</span> <span class="token punctuation">{</span><br /> fillColor <span class="token operator">=</span><br /> ta<span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>OwnCustomView_ocv_fillColor<span class="token punctuation">,</span><br /> DEFAULT_FILL_COLOR<span class="token punctuation">)</span><span class="token punctuation">;</span><br /><br /> <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span><br /> ta<span class="token punctuation">.</span><span class="token function">recycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /> <span class="token punctuation">}</span><br /> <br /> OwnCustomView customView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OwnCustomView</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /> customView<span class="token punctuation">.</span><span class="token function">setFillColor</span><span class="token punctuation">(</span>BRIGHT_GREEN<span class="token punctuation">)</span><span class="token punctuation">;</span><br /></code></pre></li></ol></li></ol></li><li><p>빌드</p><ol><li><p>빌드상수로 디버그빌드와 릴리스빌드때 서로 다른 서버URL값 설정하기.<br>프로그램에서 서버 URL 등을 디버그나 테스트,개발시에 다르게 설정할수 있는데 Gradle 에서 설정한 값들은 java 에서는 “BuildConfig.속성” 처럼 상수로 접근할수 있다.</p><pre class=" language-java"><code class="prism  language-java">buildTypes<span class="token punctuation">{</span><br />    release <span class="token punctuation">{</span><br />        buildConfigField <span class="token string">"String"</span><span class="token punctuation">,</span> <span class="token string">"SERVER_URL"</span><span class="token punctuation">,</span> <span class="token string">'"https://www.release.com"'</span><br />    <span class="token punctuation">}</span><br />    debug <span class="token punctuation">{</span><br />        buildConfigField <span class="token string">"String"</span><span class="token punctuation">,</span> <span class="token string">"SERVER_URL"</span><span class="token punctuation">,</span> <span class="token string">'"https://www.test.com"'</span><br />    <span class="token punctuation">}</span><br /></code></pre></li><li><p>ProGuard<br>프로가드는 minifyEnabled 를 true 로 줌으로서 활성화할수있다. 이런저런 라이브러리를 사용하여 난독화하면 단일dex 파일이 너무 커지거나 라이브러리의 난독화과정에서 빌드에러가 나오는경우도 있는데 그럴경우</p><pre class=" language-java"><code class="prism  language-java">proguard<span class="token operator">-</span>rules<span class="token punctuation">.</span>pro파일에<br /><span class="token operator">-</span>dontwarn okio<span class="token punctuation">.</span>*<span class="token operator">*</span><br /><span class="token operator">-</span>dontwarn retrofit2<span class="token punctuation">.</span>*<span class="token operator">*</span><br /></code></pre><p>처럼 추가해주면된다.<br>디버그 상태에서는 별도의 프로가드 설정을 주거나 [proguardFile ‘<a href="http://proguard-debug.pro">proguard-debug.pro</a>’] minifyEnabled 를 false 로 지정하여 원활히 디버깅이 되도록 할수있다.<br>또한 각각의 라이브러리는 별도의 프로가드 파일을 지정하여 주면 좋다.</p><pre class=" language-java"><code class="prism  language-java">proguardFiles <span class="token string">'proguard-rules-retrofit.pro'</span><br />proguardFiles <span class="token string">'proguard-rules-rx.pro'</span><br /></code></pre></li><li><p>shrinkResources<br>불필요한 리소스를 제거해준다. true 로 해준다.</p></li><li><p>gradlewrapper<br>gradlew 명령어로  gradlew clean build assemble 하면 gradle 시에 에러 정보가 보인다.</p></li></ol></li><li><p>Android Jetpack lifecycle 소개 및 구현 방법 (LiveData, ViewModel 연계)</p><ol><li>미친 안드로이드가 아예 lifecycle 이라는 라이브러리를 만들어서 onResume (또는 onStart,onRestart)에서 register 를  onPause(또는 onStop) 에서 unregister 해주던 것들(리스너등) 을 lifecycle 에 옵서버형태로 옮겨서 자동으로 Activity 라이프사이클에 맞게 자동으로 on/off 될수 있도록 하는걸 만들언다. <ul><li>Lifecycle : lifecycle 객체자체, 즉 subscriber 다.</li><li>LifecycleOwner : lifecycle 을 포함한 말그대로 생명유지를 하는 주체, 즉 Activiy 다.</li><li>LifecycleObserver : Owner 의 상태를 감지해서 이벤트를 발생시키는 옵서버.<br>이런 라이프사이클을 이용해서 자동으로 라이프사이클에 맞춰 연동되도록 되어 있는 클래스들을 lifecycle-aware components 라고 한다.</li></ul></li><li>LiveData 라는 것은 LifecycleOnwer 의 생명주기에 맞게 연결된 UI 객체에 값변경을 통지하는 역활을 대신 편리하게 해준다. 예전에는 액티비티나 프래그먼트 생명주기에 맞게 UI 에 뭔가를 다시 출력하거나 하는게 귀찮았는데, LiveData 로 연결만해주면 Lifecycle 즉 , 액비티티나 프래그먼트의 생명주기에맞게 화면에 보일때만 변경표시를 해주고 owner 가 삭제되었을때는 연결된 데이터도 삭제해서 GC 대상이 될수 있도록 하여 메모리누수를 덜 일으키도록 도와준다.</li><li>ViewModel 안드로이드에서 ViewModel  클래스는 액비티니,프래그먼트에 포함된 UI 조작(로직)을  따로 분리 할수 있도록 도와주는 클래스로서 ViewModel 에 연결된 UI 는 액티비티나 프래그먼트의 생명주기와 관계없이 언제든지 통지를 받아 변경될수있는 상태가 되도록 한다.즉 액티비티가 재실행되거나, 멈춤,복귀 되는 등(화면회전, SMS 메시지확인,전화받기등)의 과정과 관계없이 주욱 데이터를 유지시키며 이를 가능하게 하는게 LiveData 이다.<br>지저분하게 Activity, Fragment 에서 + , - 이건거 하지 말자.<br>(아차차…참고1 .뷰모델이 자신이 가진 메모리를 내밷고 생명을 다하는 경우는 Acitivity의 경우 finish 되었을때나 Fragment의 경우 detached 가 삭제될경우다)<br>(아차차…참고2 .뷰모델은 스스로 장수하는 반면,  Acitivity나 Fragment는 경우에따라 죽었다 살아나기를 반복하면서 이름을 바꾸기 때문에 직접 이들의  Context 를 직접 참조하게 되면 에러를 내뿜게 된다. ApplicationContext 하거나  AndroidViewModel 을 확장받아서한다. )</li><li>LiveData 의 Transformation , LiveData의 값이 변경되어 대상객체에 통지하기 전에 항상 그값에 뭔가를 추가처리하고자 할때 사용한다. [Transformation.map(소스, 함수)=스트링 리턴값] 과 [Transformation.switchMap(소스, 함수)=라이브데이터 리턴값] 과 [mediatorLiveData가 있다. <ul><li>Transformations.map : 라이브 데이터가 갱신되면 지정된 함수에서 처리된 결과값이 strign 으로 반환된다.</li></ul></li></ol></li></ul><ol start="7"><li><p>TEST</p><ol><li>Androidx 테스트 지원 라이브러리  <a href="https://developer.android.com/training/testing/set-up-project">https://developer.android.com/training/testing/set-up-project</a></li><li>빌드상수로 디버그빌드와 릴리스빌드때 서로 다른 서버URL값 설정하기.<br>프로그램에서 서버 URL 등을 디버그나 테스트,개발시에 다르게 설정할수 있는데 Gradle 에서 설정한 값들은 java 에서는 “BuildConfig.속성” 처럼 상수로 접근할수 있다.<pre class=" language-java"><code class="prism  language-java">buildTypes<span class="token punctuation">{</span><br />    release <span class="token punctuation">{</span><br />        buildConfigField <span class="token string">"String"</span><span class="token punctuation">,</span> <span class="token string">"SERVER_URL"</span><span class="token punctuation">,</span> <span class="token string">'"https://www.release.com"'</span><br />    <span class="token punctuation">}</span><br />    debug <span class="token punctuation">{</span><br />        buildConfigField <span class="token string">"String"</span><span class="token punctuation">,</span> <span class="token string">"SERVER_URL"</span><span class="token punctuation">,</span> <span class="token string">'"https://www.test.com"'</span><br />    <span class="token punctuation">}</span><br /></code></pre></li><li>신규 프로젝트 만들고 Test 봤더니 @RunWith(AndroidJUnit4.class) 에 빨간줄갈때<br>구글은 정말…어쩌라구…<pre class=" language-java"><code class="prism  language-java">dependencies <span class="token punctuation">{</span>  <br />	androidTestImplementation <span class="token string">'androidx.test:rules:1.2.0'</span>　이건rule 위해<span class="token punctuation">.</span><br />    androidTestImplementation <span class="token string">'androidx.test.ext:junit:1.1.2-alpha02'</span> 추가<br />    androidTestImplementation <span class="token string">'androidx.test.espresso:espresso-intents:3.2.0'</span> Intent<span class="token punctuation">,</span>hasComponent 사용		    <br /><span class="token punctuation">}</span><br /></code></pre></li><li>런쳐액티비티 테스트<pre class=" language-java"><code class="prism  language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TCS1_010</span> <span class="token punctuation">{</span>  <br />  <br />    <span class="token annotation punctuation">@Rule</span>  <br />  <span class="token keyword">public</span> <span class="token keyword">final</span> ActivityTestRule<span class="token operator">&lt;</span>MainActivity<span class="token operator">&gt;</span> mActivityTestRule <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActivityTestRule</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>MainActivity<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <br />  <br />    <span class="token annotation punctuation">@Test</span>  <br />  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">startApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <br />         Intent intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <br />        <span class="token comment">// intent.putExtra("your_key", "your_value");</span><br />        mActivityTestRule<span class="token punctuation">.</span><span class="token function">launchActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>  	  		  <br />    <span class="token punctuation">}</span>  <br />  <br /><span class="token punctuation">}</span><br /></code></pre></li><li>액티비티와 프래그먼트의 테스트는 여길참조  <a href="https://android.jlelse.eu/the-basics-of-android-espresso-testing-activities-fragments-7a8bfbc16dc5">The Basics of Android Espresso Testing: Activities &amp; Fragments</a></li></ol></li><li><p>SQLite</p><ol><li>SQLite의 느린속도때문에 쿼리스트링 만들때는 stringbuffer 를 사용하자.</li><li>compileStatement 를 사용해서 안전하고 빠르게 삽입하자.<br><a href="https://medium.com/androidstarters/mastering-android-studio-templates-ed8fdd98cb78">https://medium.com/androidstarters/mastering-android-studio-templates-ed8fdd98cb78</a><br><a href="https://medium.com/gits-apps-insight/tutorial-create-your-own-template-for-android-studio-1aaa9b4cb18">https://medium.com/gits-apps-insight/tutorial-create-your-own-template-for-android-studio-1aaa9b4cb18</a><pre class=" language-java"><code class="prism  language-java">AndroidStudio\plugins\android\lib\templates\밑에 있는 파일대로 만들면된다<span class="token punctuation">.</span><br /><span class="token punctuation">}</span><br /></code></pre></li></ol></li><li><p>ETC</p><ol><li>AndroidStudio 에서 액티비티,플래그먼트,리사이클뷰세트 등을 만들때, 템플릿을 이용해서 기준포맷된 화일을 빠르게 생성하도록할수 있다. 협업작업때 기존화일을 카피해서 안쓸꺼만 지우고 하다보면 시간도 가고 실수도 하는데 차라리 템플릿으로 만들어 두면 좋다.<br>또, 새로운 프로젝트를 템플릿으로 만들어 두면 빠르게 새로운 프로젝트를 시작할수 있다.<br>일단 , 참고 했던곳,<br><a href="https://medium.com/androidstarters/mastering-android-studio-templates-ed8fdd98cb78">https://medium.com/androidstarters/mastering-android-studio-templates-ed8fdd98cb78</a><br><a href="https://medium.com/gits-apps-insight/tutorial-create-your-own-template-for-android-studio-1aaa9b4cb18">https://medium.com/gits-apps-insight/tutorial-create-your-own-template-for-android-studio-1aaa9b4cb18</a><pre class=" language-java"><code class="prism  language-java">AndroidStudio\plugins\android\lib\templates\밑에 있는 파일대로 만들면된다<span class="token punctuation">.</span><br /><span class="token punctuation">}</span><br /></code></pre></li></ol></li></ol> 