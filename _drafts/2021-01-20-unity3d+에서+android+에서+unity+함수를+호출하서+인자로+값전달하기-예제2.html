---
layout: post
title: Unity3d 에서 Android 에서 unity 함수를 호출하서 인자로 값전달하기-예제2
date: '2021-01-20T06:15:00.001-08:00'
author: schoolhompy
tags: 
modified_time: '2021-01-20T06:15:22.524-08:00'
thumbnail: https://1.bp.blogspot.com/-mEAamxvfioo/YAg4JWloUYI/AAAAAAABGVY/sF83wQqiYZY2mLv6Q36dCmmjw8zJ-4quACLcBGAsYHQ/s72-c/Screen%2BShot%2B2021-01-20%2Bat%2B22.52.44.png
blogger_id: tag:blogger.com,1999:blog-4954243635432022205.post-1058257049957055753
---

<p>앞서 단순한 예제에서는 유니티에서 안드로이드의 기능(Toast) 를 불러내는 것이었다.</p><p>이제 안드로이드 에서 유니티의 함수를 불러내 보자. 뭐 안드로이드에서 유니티함수를 불러내서 딱히 할일이 없지만, 이번 예제처럼 안드로이드에서 유니티액티비티가 기동할때의 뭔가 처리가 필요할 경우등 필요하겠다.</p><p>이전 예제 &gt; Unity3d 에서 Android plugin 불러내기-예제1</p><p>https://yunhos.blogspot.com/2021/01/unity3d-android-plugin-1.html</p><p><br /></p><p>자 새로 만들기 귀찮으니까 이전 소스를 대충 활용하자.</p><p>1. 이전소스는 유니티에서 자바소스를 요청만 때문에 유니티쪽이 어떻게 되었던 상관없었다. 그러나 이번에는 안드로이드에서 유니티쪽으로 요청을 해야되기 때문에<br />유니티쪽의 자바관련 라이브러리를 이용하여야 한다. 그 이름이 classes.jar인데 보통<br /><br /></p><p>/Applications/Unity/PlaybackEngines/AndroidPlayer/Variations/mono/Release/Classes/classes.jar</p><p>여기에 있다.</p><p>이걸 아까 예제1의 소스에서 왼쪽 작은 탭화면을 Project 보기뷰로 전환한뒤에 app-&gt;libs 밑에 복사한다. 그리고 그걸 라이브러리로 추가하여 build.grade(앱모듈의 그레이들녀석)에 implementation되었는지 확인한다.</p><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-mEAamxvfioo/YAg4JWloUYI/AAAAAAABGVY/sF83wQqiYZY2mLv6Q36dCmmjw8zJ-4quACLcBGAsYHQ/s2404/Screen%2BShot%2B2021-01-20%2Bat%2B22.52.44.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="732" data-original-width="2404" src="https://1.bp.blogspot.com/-mEAamxvfioo/YAg4JWloUYI/AAAAAAABGVY/sF83wQqiYZY2mLv6Q36dCmmjw8zJ-4quACLcBGAsYHQ/s320/Screen%2BShot%2B2021-01-20%2Bat%2B22.52.44.png" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-ehy0_3lmrUo/YAg4JXF9wiI/AAAAAAABGVQ/EChl6owHoYwLScx26xSL89xFpmFeDSn0wCLcBGAsYHQ/s1204/Screen%2BShot%2B2021-01-20%2Bat%2B22.55.23.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1204" data-original-width="832" height="320" src="https://1.bp.blogspot.com/-ehy0_3lmrUo/YAg4JXF9wiI/AAAAAAABGVQ/EChl6owHoYwLScx26xSL89xFpmFeDSn0wCLcBGAsYHQ/s320/Screen%2BShot%2B2021-01-20%2Bat%2B22.55.23.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><br /></div><pre style="color: #080808; font-family: Menlo, monospace; font-size: 9pt;"><span style="background-color: white;">dependencies </span><span style="background-color: white; font-weight: bold;">{<br /></span><span style="background-color: white; font-weight: bold;"><br /></span><span style="background-color: white; font-weight: bold;">    </span><span style="background-color: white;">implementation </span><span style="background-color: white; color: #067d17;">'androidx.appcompat:appcompat:1.2.0'<br /></span><span style="background-color: white; color: #067d17;">    </span><span style="background-color: white;">implementation </span><span style="background-color: white; color: #067d17;">'com.google.android.material:material:1.2.1'<br /></span><span style="color: #067d17;"><span style="background-color: white;">   </span><span style="background-color: #ffe599;"> </span></span><span style="background-color: #ffe599;">implementation files(<span style="color: #067d17;">'libs/classes.jar'</span>)</span><span style="background-color: white;"><br />    testImplementation </span><span style="background-color: white; color: #067d17;">'junit:junit:4.+'<br /></span><span style="background-color: white; color: #067d17;">    </span><span style="background-color: white;">androidTestImplementation </span><span style="background-color: white; color: #067d17;">'androidx.test.ext:junit:1.1.2'<br /></span><span style="background-color: white; color: #067d17;">    </span><span style="background-color: white;">androidTestImplementation </span><span style="background-color: white; color: #067d17;">'androidx.test.espresso:espresso-core:3.3.0'<br /></span><span style="background-color: white; font-weight: bold;">}</span></pre><pre style="background-color: white; color: #080808; font-family: 'Menlo',monospace; font-size: 9.0pt;"><br class="Apple-interchange-newline" /><span style="color: black; font-family: Times; font-size: medium; white-space: normal;">위에처럼 추가되었는지 확인한다.</span></pre><pre style="background-color: white; color: #080808; font-family: 'Menlo',monospace; font-size: 9.0pt;"><span style="color: black; font-family: Times; font-size: medium; white-space: normal;">내경우에는 버젼문제로 에러가 조금 났지만, File-&gt;Project Sttucture-&gt;Modules 에서&nbsp;<br /></span><div class="separator" style="clear: both; color: black; font-family: Times; font-size: medium; text-align: center; white-space: normal;"><a href="https://1.bp.blogspot.com/-v5qEJSysigY/YAg4JQm6M8I/AAAAAAABGVU/39wkYKh40ssVFl0WMSxwS0Uh1ibWGZi1wCLcBGAsYHQ/s3204/Screen%2BShot%2B2021-01-20%2Bat%2B22.57.18.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="428" data-original-width="3204" src="https://1.bp.blogspot.com/-v5qEJSysigY/YAg4JQm6M8I/AAAAAAABGVU/39wkYKh40ssVFl0WMSxwS0Uh1ibWGZi1wCLcBGAsYHQ/s320/Screen%2BShot%2B2021-01-20%2Bat%2B22.57.18.png" width="320" /></a></div><div class="separator" style="clear: both; color: black; font-family: Times; font-size: medium; text-align: center; white-space: normal;">에러났다.</div><br style="color: black; font-family: Times; font-size: medium; white-space: normal;" /><div class="separator" style="clear: both; color: black; font-family: Times; font-size: medium; text-align: center; white-space: normal;"><a href="https://1.bp.blogspot.com/-4xJrw1u5TKw/YAg4J-CSyAI/AAAAAAABGVc/pnTknesD_ZQ27Vqw3w7bMwa8MgtNqjM1wCLcBGAsYHQ/s1898/Screen%2BShot%2B2021-01-20%2Bat%2B23.01.39.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1052" data-original-width="1898" src="https://1.bp.blogspot.com/-4xJrw1u5TKw/YAg4J-CSyAI/AAAAAAABGVc/pnTknesD_ZQ27Vqw3w7bMwa8MgtNqjM1wCLcBGAsYHQ/s320/Screen%2BShot%2B2021-01-20%2Bat%2B23.01.39.png" width="320" /></a></div><div class="separator" style="clear: both; color: black; font-family: Times; font-size: medium; text-align: left; white-space: normal;">Compile Sdk Version , Build Tools Version을 바꾸어 주었더니 한번더 뭐라고 떴지만 그냥 인스톨 해주세요 했더니 잘 되었다.</div><div class="separator" style="clear: both; color: black; font-family: Times; font-size: medium; text-align: left; white-space: normal;">이래저래 그레이들이 짜증을 내기에 다음과 같이 버젼을 지정하니 빌드 오케</div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-MP7ypbngon4/YAg6m7fZM1I/AAAAAAABGV4/sAnu7_xSS0IQLOEpvCVe0GdeUpyKSNbFACLcBGAsYHQ/s1906/Screen%2BShot%2B2021-01-20%2Bat%2B23.13.07.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="508" data-original-width="1906" src="https://1.bp.blogspot.com/-MP7ypbngon4/YAg6m7fZM1I/AAAAAAABGV4/sAnu7_xSS0IQLOEpvCVe0GdeUpyKSNbFACLcBGAsYHQ/s320/Screen%2BShot%2B2021-01-20%2Bat%2B23.13.07.png" width="320" /></a></div><br /><div class="separator" style="clear: both; color: black; font-family: Times; font-size: medium; text-align: left; white-space: normal;"><br /></div><div class="separator" style="clear: both; color: black; font-family: Times; font-size: medium; text-align: left; white-space: normal;"><br /></div><div class="separator" style="clear: both; color: black; font-family: Times; font-size: medium; text-align: left; white-space: normal;">2.자 이제 구글에 떠도는 대로 우리가 만들 플러그인을 jar파일로 만들어서 유니티에 넣을꺼다.</div><div class="separator" style="clear: both; color: black; font-family: Times; font-size: medium; text-align: left; white-space: normal;">jar로 만들기위해서는 android studio 에서 빌드할떄에 몇가지 groovy 스크립트를 넣어줘야 한다.</div><div class="separator" style="clear: both; color: black; font-family: Times; font-size: medium; text-align: left; white-space: normal;"><br /></div><div class="separator" style="clear: both; color: black; font-family: Times; font-size: medium; text-align: left; white-space: normal;"><br /></div></pre>